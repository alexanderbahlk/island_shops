# == Schema Information
#
# Table name: categories
#
#  id            :bigint           not null, primary key
#  category_type :integer          default("root"), not null
#  depth         :integer          default(0)
#  lft           :integer          not null
#  path          :string
#  rgt           :integer          not null
#  slug          :string           not null
#  sort_order    :integer          default(0)
#  synonyms      :text             default([]), is an Array
#  title         :string           not null
#  uuid          :uuid             not null
#  created_at    :datetime         not null
#  updated_at    :datetime         not null
#  parent_id     :bigint
#
# Indexes
#
#  index_categories_on_category_type             (category_type)
#  index_categories_on_lft_and_rgt               (lft,rgt)
#  index_categories_on_parent_id                 (parent_id)
#  index_categories_on_parent_id_and_slug        (parent_id,slug) UNIQUE
#  index_categories_on_parent_id_and_sort_order  (parent_id,sort_order)
#  index_categories_on_path                      (path)
#  index_categories_on_uuid                      (uuid) UNIQUE
#
# Foreign Keys
#
#  fk_rails_...  (parent_id => categories.id)
#
food_root:
  uuid: <%= SecureRandom.uuid %>
  title: "Food"
  category_type: 0  # root
  depth: 0
  slug: "food"
  path: "food"
  sort_order: 1
  lft: 1
  rgt: 100  # Increased to accommodate more children

# Level 1 categories - fix lft/rgt values
fresh_food:
  uuid: <%= SecureRandom.uuid %>
  title: "Fresh Food"
  parent: food_root
  category_type: 1  # category
  depth: 1
  slug: "fresh-food"
  path: "food/fresh-food"
  sort_order: 1
  lft: 2
  rgt: 35

beverages:
  uuid: <%= SecureRandom.uuid %>
  title: "Beverages"
  parent: food_root
  category_type: 1  # category
  depth: 1
  slug: "beverages"
  path: "food/beverages"
  sort_order: 2
  lft: 36
  rgt: 70

canned_food:
  uuid: <%= SecureRandom.uuid %>
  title: "Canned Food"
  parent: food_root
  category_type: 1  # category
  depth: 1
  slug: "canned-food"
  path: "food/canned-food"
  sort_order: 3
  lft: 71
  rgt: 85

# Level 2 subcategories - fix parent relationships and lft/rgt
dairy:
  uuid: <%= SecureRandom.uuid %>
  title: "Dairy"
  parent: fresh_food
  category_type: 2  # subcategory
  depth: 2
  slug: "dairy"
  path: "food/fresh-food/dairy"
  sort_order: 1
  lft: 3
  rgt: 12

fresh_vegetables:
  uuid: <%= SecureRandom.uuid %>
  title: "Fresh Vegetables"
  parent: fresh_food
  category_type: 2  # subcategory
  depth: 2
  slug: "fresh-vegetables"
  path: "food/fresh-food/fresh-vegetables"
  sort_order: 2
  lft: 13
  rgt: 18

bakery:
  uuid: <%= SecureRandom.uuid %>
  title: "Bakery"
  parent: fresh_food
  category_type: 2  # subcategory
  depth: 2
  slug: "bakery"
  path: "food/fresh-food/bakery"
  sort_order: 3
  lft: 19
  rgt: 24

# Fix beverages subcategories
hot_beverages:
  uuid: <%= SecureRandom.uuid %>
  title: "Hot Beverages"
  parent: beverages
  category_type: 2  # subcategory
  depth: 2
  slug: "hot-beverages"
  path: "food/beverages/hot-beverages"
  sort_order: 1
  lft: 37
  rgt: 42

alcoholic:
  uuid: <%= SecureRandom.uuid %>
  title: "Alcoholic"
  parent: beverages
  category_type: 2  # subcategory
  depth: 2
  slug: "alcoholic"
  path: "food/beverages/alcoholic"
  sort_order: 2
  lft: 43
  rgt: 58

non_alcoholic:
  uuid: <%= SecureRandom.uuid %>
  title: "Non-Alcoholic"
  parent: beverages
  category_type: 2  # subcategory
  depth: 2
  slug: "non-alcoholic"
  path: "food/beverages/non-alcoholic"
  sort_order: 3
  lft: 59
  rgt: 64

canned_vegetables:
  uuid: <%= SecureRandom.uuid %>
  title: "Canned Vegetables"
  parent: canned_food
  category_type: 2  # subcategory
  depth: 2
  slug: "canned-vegetables"
  path: "food/canned-food/canned-vegetables"
  sort_order: 1
  lft: 72
  rgt: 77

# Level 3 products - fix parents and lft/rgt values
milk:
  uuid: <%= SecureRandom.uuid %>
  title: "Milk"
  parent: dairy
  category_type: 3  # product
  depth: 3
  slug: "milk"
  path: "food/fresh-food/dairy/milk"
  sort_order: 1
  lft: 4
  rgt: 5

organic_milk:
  uuid: <%= SecureRandom.uuid %>
  title: "Organic Milk"
  parent: dairy
  category_type: 3  # product
  depth: 3
  slug: "organic-milk"
  path: "food/fresh-food/dairy/organic-milk"
  sort_order: 2
  lft: 6
  rgt: 7

cheese:
  uuid: <%= SecureRandom.uuid %>
  title: "Cheese"
  parent: dairy
  category_type: 3  # product
  depth: 3
  slug: "cheese"
  path: "food/fresh-food/dairy/cheese"
  sort_order: 3
  lft: 8
  rgt: 9

yogurt:
  uuid: <%= SecureRandom.uuid %>
  title: "Yogurt"
  parent: dairy
  category_type: 3  # product
  depth: 3
  slug: "yogurt"
  path: "food/fresh-food/dairy/yogurt"
  sort_order: 4
  lft: 10
  rgt: 11

# Coffee - CORRECTED
coffee:
  uuid: <%= SecureRandom.uuid %>
  title: "Coffee"
  parent: hot_beverages  # This is correct
  category_type: 3  # product
  depth: 3
  slug: "coffee"
  path: "food/beverages/hot-beverages/coffee"
  sort_order: 1
  lft: 38  # Fixed: unique lft/rgt values
  rgt: 39

# Fix alcoholic beverages - they should have alcoholic as parent, not beverages
wine:
  uuid: <%= SecureRandom.uuid %>
  title: "Wine"
  parent: alcoholic  # FIXED: was "beverages"
  category_type: 3  # product
  depth: 3
  slug: "wine"
  path: "food/beverages/alcoholic/wine"
  sort_order: 1
  lft: 44
  rgt: 45

beer:
  uuid: <%= SecureRandom.uuid %>
  title: "Beer"
  parent: alcoholic  # FIXED: was "beverages"
  category_type: 3  # product
  depth: 3
  slug: "beer"
  path: "food/beverages/alcoholic/beer"
  sort_order: 2
  lft: 46
  rgt: 47

red_wine:

  title: "Red Wine"
  parent: alcoholic  # FIXED: was "beverages"
  category_type: 3  # product
  depth: 3
  slug: "red-wine"
  path: "food/beverages/alcoholic/red-wine"
  sort_order: 3
  lft: 48
  rgt: 49

organic_wine:
  uuid: <%= SecureRandom.uuid %>
  title: "Organic Wine"
  parent: alcoholic  # FIXED: was "beverages"
  category_type: 3  # product
  depth: 3
  slug: "organic-wine"
  path: "food/beverages/alcoholic/organic-wine"
  sort_order: 4
  lft: 50
  rgt: 51

# Non-alcoholic beverages
evaporated_milk:
  uuid: <%= SecureRandom.uuid %>
  title: "Evaporated Milk"
  parent: non_alcoholic
  category_type: 3  # product
  depth: 3
  slug: "evaporated-milk"
  path: "food/beverages/non-alcoholic/evaporated-milk"
  sort_order: 1
  lft: 60
  rgt: 61

# Fresh vegetables
tomatoes_fresh:
  uuid: <%= SecureRandom.uuid %>
  title: "Tomatoes"
  parent: fresh_vegetables
  category_type: 3  # product
  depth: 3
  slug: "tomatoes-fresh"  # Made unique
  path: "food/fresh-food/fresh-vegetables/tomatoes"
  sort_order: 1
  lft: 14
  rgt: 15

eggplant:
  uuid: <%= SecureRandom.uuid %>
  title: "Eggplant"
  synonyms: ["Aubergine", "Brinjal"]
  parent: fresh_vegetables
  category_type: 3  # product
  depth: 3
  slug: "eggplant"  # Made unique
  path: "food/fresh-food/fresh-vegetables/eggplant"
  sort_order: 1
  lft: 14
  rgt: 15

# Bakery
bread:
  uuid: <%= SecureRandom.uuid %>
  title: "Bread"
  parent: bakery
  category_type: 3  # product
  depth: 3
  slug: "bread"
  path: "food/fresh-food/bakery/bread"
  sort_order: 1
  lft: 20
  rgt: 21

# Canned vegetables
tomatoes_canned:
  uuid: <%= SecureRandom.uuid %>
  title: "Tomatoes"
  parent: canned_vegetables
  category_type: 3  # product
  depth: 3
  slug: "tomatoes-canned"  # Made unique
  path: "food/canned-food/canned-vegetables/tomatoes"
  sort_order: 1
  lft: 73
  rgt: 74
